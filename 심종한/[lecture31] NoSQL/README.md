# lecture31 - NoSQL

## scale up

서버의 사양을 높여 처리량을 높이는 방법

## scale out

서버의 수를 늘려 트래픽을 분산하는 방법

master DB를 여러개 두는 multi-master, 샤딩 같은 방벙도 있다. 그런데 일반적으로 RDB는 scale-out에 유연한 DB는 아니다.

## 트랜잭션 & ACID

ACID를 보장하려다 보니 DB 서버의 성능에 영향을 준다.

## NoSQL이 각광받게 된 배경

2000년대 초, 중반 SNS 사용자가 많아지며 사용자들은 빠르게 글을 보고 싶어하는 요구가 생겼다. 또한 비정형 데이터를 저장해야될 필요성이 점점 커지며 NoSQL이 각광받게 됐다.

## NoSQL 특징

#### 장점

- 유연한 스키마: 스키마를 고정하지 않고 유연하게 정의할 수 있다. 따라서 데이터 모델이 자주 변경되거나 다양한 형식의 데이터를 처리할 때 유용하다.
- 중복 허용(join 회피): 주문 정보를 저장하는 경우 주문자 정보부터 상품 정보까지 한번에 저장할 수 있다. 그렇다 보니 최신 정보를 반영할 수 있도록 신경써야 한다.
  - 사용자 정보가 변경된 경우, 주문 정보에 저장된 주문자 정보를 모두 수정해줘야 한다.
- 수평적 확장성: 서버 여러대로 하나의 클러스터를 구성하여 사용할 수 있다. join 작업이 거의 없기 때문에 스케일 아웃에 유리하다.

#### 단점

- ACID 일부를 포기하고 high-throughput, low-latency를 추구한다.
  - 금융 시스템처럼 데이터의 일관성이 중요한 환경에서는 조심히 사용해야 한다.

## Redis

- key, value로 데이터를 관리한다.
- 메모리를 사용하다 보니 DB 자체로 사용하기 보다는 캐시 목적으로 사용하는 것 같다.
- 또한 여러가지 데이터 타입을 저장할 수 있다. (string, lists, sets, hashes, sorted, sets ...)
- 고가용성 (replication, automatic failover)이 보장된다.
